{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","props","searchTerm","searchHandler","value","onChange","PersonForm","submitHandler","name","nameHandler","number","numberHandler","onSubmit","type","Person","person","deleteHandler","onClick","Persons","persons","map","key","id","Notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","App","useState","setPersons","currentPerson","setCurrentPerson","newName","setNewName","newNumber","setNewNumber","newSearchTerm","setNewSearchTerm","showNotification","setShowNotification","showError","setShowError","useEffect","phonebookService","phonebookEntries","personsToShow","trim","toLowerCase","length","filter","includes","notification","error","event","target","preventDefault","find","p","window","confirm","returnedPerson","setTimeout","concat","selectedPerson","_","newPersons","catch","ReactDOM","render","document","getElementById"],"mappings":"0NAaeA,EAXA,SAACC,GAAW,IACfC,EAA8BD,EAA9BC,WAAYC,EAAkBF,EAAlBE,cAEpB,OACI,iDAEA,2BAAOC,MAAOF,EAAYG,SAAUF,MCY7BG,EAlBI,SAACL,GAAW,IACnBM,EAA4DN,EAA5DM,cAAeC,EAA6CP,EAA7CO,KAAMC,EAAuCR,EAAvCQ,YAAaC,EAA0BT,EAA1BS,OAAQC,EAAkBV,EAAlBU,cAElD,OACI,0BAAMC,SAAUL,GAChB,sCACQ,2BAAOH,MAAOI,EAAMH,SAAUI,KAEtC,wCACU,2BAAOL,MAAOM,EAAQL,SAAUM,KAE1C,6BACE,4BAAQE,KAAK,UAAb,UCFKC,EAVA,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACtB,OACI,4BACI,4BAAKD,EAAOP,MACZ,4BAAKO,EAAOL,QACZ,4BAAI,4BAAQO,QAASD,GAAjB,aCMDE,EAVC,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,QAASH,EAAoB,EAApBA,cACxB,OACI,+BACI,+BACCG,EAAQC,KAAI,SAAAL,GAAM,OAAI,kBAAC,EAAD,CAAQM,IAAKN,EAAOP,KAAMO,OAAQA,EAAQC,cAAe,kBAAMA,EAAcD,EAAOO,aCOxGC,EAZM,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC/B,OAAgB,OAAZD,EACK,KAIP,yBAAKC,UAAWA,GACbD,I,gBCRDE,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACT,EAAIU,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBJ,GAAMU,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAAAT,GAEb,OADgBK,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BJ,GAAMA,GAClCO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC8F5BK,EA3GH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTlB,EADS,KACAmB,EADA,OAE0BD,mBAAS,IAFnC,mBAETE,EAFS,KAEMC,EAFN,OAGcH,mBAAS,IAHvB,mBAGTI,EAHS,KAGAC,EAHA,OAIkBL,mBAAS,IAJ3B,mBAITM,EAJS,KAIEC,EAJF,OAK0BP,mBAAS,IALnC,mBAKTQ,EALS,KAKMC,EALN,OAMgCT,oBAAS,GANzC,mBAMTU,EANS,KAMSC,EANT,OAOkBX,oBAAS,GAP3B,mBAOTY,EAPS,KAOEC,EAPF,KAShBC,qBAAU,WACRC,IACGvB,MAAK,SAAAwB,GAAgB,OAAIf,EAAWe,QACtC,IAEH,IA2DMC,EAAsC,IADzBT,EAAcU,OAAOC,cACPC,OAC7BtC,EACAA,EAAQuC,QAAO,SAAA3C,GAAM,OAAIA,EAAOP,KAAK+C,OAAOC,cAAcG,SAASd,MAEjEe,EAAeb,EACjB,kBAAC,EAAD,CAAcvB,QAAO,gBAAWe,EAAc/B,MAAQiB,UAAU,iBAChE,8BAEEoC,EAAQZ,EACV,kBAAC,EAAD,CAAczB,QAAO,yBAAoBe,EAAc/B,KAAlC,yCAA+EiB,UAAU,UAC9G,8BAEJ,OACE,6BACE,yCACCmC,EACAC,EACD,kBAAC,EAAD,CAAQ3D,WAAY2C,EAAe1C,cAvClB,SAAC2D,GACpBhB,EAAiBgB,EAAMC,OAAO3D,UAwC5B,yCACA,kBAAC,EAAD,CACEG,cAhFa,SAACuD,GAClBA,EAAME,iBACN,IAAMjD,EAASI,EAAQ8C,MAAK,SAAAC,GAAC,OAAIA,EAAE1D,OAASiC,KAC5C,GAAI1B,GACF,GAAIoD,OAAOC,QAAP,UAAkBrD,EAAOP,KAAzB,2EAAwG,CAC1G,IAAMwB,EAAS,2BAAOjB,GAAP,IAAeL,OAAQiC,IACtCS,EACUrC,EAAOO,GAAIU,GAClBH,MAAK,SAAAwC,GACJ7B,EAAiB6B,GACjBrB,GAAoB,GACpBsB,YAAW,kBAAMtB,GAAoB,KAAQ,KAC7CV,EAAWnB,EAAQC,KAAI,SAAA8C,GAAC,OAAIA,EAAE5C,KAAOP,EAAOO,GAAK4C,EAAIG,cAGtD,CACL,IAAMrC,EAAY,CAACxB,KAAMiC,EAAQc,OAAQ7C,OAAQiC,EAAUY,QAC3DH,EAAwBpB,GACrBH,MAAK,SAAAwC,GACJ7B,EAAiB6B,GACjBrB,GAAoB,GACpBsB,YAAW,kBAAMtB,GAAoB,KAAQ,KAC7CV,EAAWnB,EAAQoD,OAAOF,IAC1B3B,EAAW,IACXE,EAAa,SAyDfpC,KAAMiC,EACNhC,YArDmB,SAACqD,GACxBpB,EAAWoB,EAAMC,OAAO3D,QAqDpBM,OAAQiC,EACRhC,cAnDqB,SAACmD,GAC1BlB,EAAakB,EAAMC,OAAO3D,UAoDxB,uCACA,kBAAC,EAAD,CAASe,QAASmC,EAAetC,cA9ChB,SAAAM,GACnB,IAAMkD,EAAiBrD,EAAQ8C,MAAK,SAAAC,GAAC,OAAIA,EAAE5C,KAAOA,KAClDkB,EAAiBgC,GACbL,OAAOC,QAAP,iBAAyBI,EAAehE,KAAxC,QACF4C,EAAwB9B,GACrBO,MAAK,SAAA4C,GACJ,IAAMC,EAAavD,EAAQuC,QAAO,SAAAQ,GAAC,OAAIA,EAAE5C,KAAOA,KAChDgB,EAAWoC,MAEZC,OAAM,SAAAd,GACLvB,EAAWnB,EAAQuC,QAAO,SAAAQ,GAAC,OAAIA,EAAE5C,KAAOA,MACxC4B,GAAa,GACboB,YAAW,kBAAMpB,GAAa,KAAQ,a,MCrEhD0B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.37b287b4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n    const { searchTerm, searchHandler } = props\r\n\r\n    return (\r\n        <div>\r\n        filter shown with \r\n        <input value={searchTerm} onChange={searchHandler} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    const { submitHandler, name, nameHandler, number, numberHandler } = props\r\n    \r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n        <div>\r\n          name: <input value={name} onChange={nameHandler} />\r\n        </div>\r\n        <div>\r\n          number: <input value={number} onChange={numberHandler} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, deleteHandler }) => {\r\n    return (\r\n        <tr>\r\n            <td>{person.name}</td>\r\n            <td>{person.number}</td>\r\n            <td><button onClick={deleteHandler}>delete</button></td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, deleteHandler }) => {\r\n    return (\r\n        <table>\r\n            <tbody>\r\n            {persons.map(person => <Person key={person.name} person={person} deleteHandler={() => deleteHandler(person.id)}/>)}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, className }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, id)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from \"./components/Notification\"\r\nimport phonebookService from \"./services/phonebook\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [currentPerson, setCurrentPerson] = useState({})\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearchTerm, setNewSearchTerm] = useState('')\r\n  const [showNotification, setShowNotification] = useState(false)\r\n  const [showError, setShowError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    phonebookService.getAll()\r\n      .then(phonebookEntries => setPersons(phonebookEntries))\r\n  }, [])\r\n\r\n  const addNewName = (event) => {\r\n    event.preventDefault()\r\n    const person = persons.find(p => p.name === newName)\r\n    if (person) {\r\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const newPerson = {...person, number: newNumber}\r\n        phonebookService\r\n          .update(person.id, newPerson)\r\n          .then(returnedPerson => {\r\n            setCurrentPerson(returnedPerson)\r\n            setShowNotification(true)\r\n            setTimeout(() => setShowNotification(false), 2000)\r\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n          })\r\n      }\r\n    } else {\r\n      const newPerson = {name: newName.trim(), number: newNumber.trim()}\r\n      phonebookService.create(newPerson)\r\n        .then(returnedPerson => {\r\n          setCurrentPerson(returnedPerson)\r\n          setShowNotification(true)\r\n          setTimeout(() => setShowNotification(false), 2000)\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setNewSearchTerm(event.target.value)\r\n  }\r\n\r\n  const handleDelete = id => {\r\n    const selectedPerson = persons.find(p => p.id === id)\r\n    setCurrentPerson(selectedPerson)\r\n    if (window.confirm(`delete ${selectedPerson.name} ?`)) {\r\n      phonebookService.remove(id)\r\n        .then(_ => {\r\n          const newPersons = persons.filter(p => p.id !== id)\r\n          setPersons(newPersons)\r\n        })\r\n        .catch(error => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n          setShowError(true)\r\n          setTimeout(() => setShowError(false), 2000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const searchTerm = newSearchTerm.trim().toLowerCase()\r\n  const personsToShow = searchTerm.length === 0\r\n    ? persons\r\n    : persons.filter(person => person.name.trim().toLowerCase().includes(newSearchTerm))\r\n\r\n  const notification = showNotification\r\n    ? <Notification message={`Added ${currentPerson.name}`} className=\"notification\" />\r\n    : <div />\r\n\r\n  const error = showError\r\n    ? <Notification message={`Information of ${currentPerson.name} has already been removed from server`} className=\"error\" />\r\n    : <div />\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      {notification}\r\n      {error}\r\n      <Filter searchTerm={newSearchTerm} searchHandler={handleSearch} />\r\n      \r\n      <h3>Add a new</h3>\r\n      <PersonForm \r\n        submitHandler={addNewName} \r\n        name={newName} \r\n        nameHandler={handleNameChange} \r\n        number={newNumber}\r\n        numberHandler={handleNumberChange} />\r\n      \r\n      <h3>Numbers</h3>\r\n      <Persons persons={personsToShow} deleteHandler={handleDelete}/>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}